#!/usr/bin/env python
import rospy
from object_recognizer.msg import Cluster, Prob, Info
from cv_bridge import CvBridge, CvBridgeError
from sensor_msgs.msg import Image

class ObjectRecognizer:
    def __init__(self):
        self.cluster_sub = rospy.Subscriber("/cluster", Cluster, self.Recognize)
        self.texture_pub = rospy.Publisher("/texture", Image)

    def Recognizer(self, cluster):
        for i in range(len(cluster.prob)):
            if cluster.prob.all > 0.5 and cluster.info.volume > 0.001:
                self.texture_pub.publish(cluster.texture[i])
                

if __name__ == "__main__":
    rospy.init_node("object_recognizer")
    obj_recog = ObjectRecognizer()
    rospy.spin()
    
